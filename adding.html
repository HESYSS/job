<?php $countrys = array('Украина','Польша','Франция','Испания','Италия'); ?>
<html>
	<head>
		<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1">
				<meta name="description" content="">
					<meta name="generator" content="Hugo 0.88.1">
						<title>Добавление</title>
						<link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/headers/">
							<!-- Bootstrap core CSS -->
							<link href="bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet">
								<style>
								  .bd-placeholder-img {
									font-size: 1.125rem;
									text-anchor: middle;
									-webkit-user-select: none;
									-moz-user-select: none;
									user-select: none;
								  }

								  @media (min-width: 768px) {
									.bd-placeholder-img-lg {
									  font-size: 3.5rem;
									}
								  }
								</style>
								<!-- Custom styles for this template -->
								<link href="headers.css" rel="stylesheet">

	</head>
								<body>
									<div class="container">
										<header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
											<a class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
												<svg class="bi me-2" width="40" height="32">
													<use xlink:href="#bootstrap"/>
												</svg>
												<span class="fs-4">
													<font style="vertical-align: inherit;">
														<font style="vertical-align: inherit;">Добавление</font>
													</font>
												</span>
											</a>
										</header>
									</div>
									<form action="http://localhost/adding.php" method="post">
										<p>Название <input type="text" name="name" id="name" minlength="2" maxlength="255"/>
										</p>
										<p>Дата<input type="text" id="datepicker" name="time" placeholder="Выберите дату">
												<link rel="stylesheet" href="https://snipp.ru/cdn/jqueryui/1.12.1/jquery-ui.min.css">
													<style type="text/css">
													input {
														width: 266px;
														display: inline-block;
														padding: 5px;
													}
		</style>
													<script src="https://snipp.ru/cdn/jquery/2.1.1/jquery.min.js"/>
													<script src="https://snipp.ru/cdn/jqueryui/1.12.1/jquery-ui.min.js"/>
													<script>
														$.datepicker.regional['ru'] = {
															closeText: 'Закрыть',
															prevText: 'Предыдущий',
															nextText: 'Следующий',
															currentText: 'Сегодня',
															monthNames: ['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],
															monthNamesShort: ['Янв','Фев','Мар','Апр','Май','Июн','Июл','Авг','Сен','Окт','Ноя','Дек'],
															dayNames: ['воскресенье','понедельник','вторник','среда','четверг','пятница','суббота'],
															dayNamesShort: ['вск','пнд','втр','срд','чтв','птн','сбт'],
															dayNamesMin: ['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],
															weekHeader: 'Не',
															dateFormat: 'dd.mm.yy',
															firstDay: 1,
															isRTL: false,
															showMonthAfterYear: false,
															yearSuffix: ''
														};
														$.datepicker.setDefaults($.datepicker.regional['ru']);

														$(function(){
															$("#datepicker").datepicker();
														});
														</script>
												</p>
												<p>Место расположения<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAIVG079WhulATznnvpOAKGEPAagg8TIrA&sensor=false"/>
													<script>
														var map;
														var myCenter=new google.maps.LatLng( 49.42305052565905,30.67143610305712);
														var markers = [];

														function initialize()
														{
														var mapProp = {
														  center:myCenter,
														  zoom:5,
														  mapTypeId:google.maps.MapTypeId.ROADMAP
														  };

														  map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

														  google.maps.event.addListener(map, 'click', function(e) {
															placeMarker(e.latLng);
														  });

														  google.maps.event.addListener(map, 'rightclick', function(){
															clearOverlays();
															document.getElementById("output").value = '';
															document.getElementById("out").value = '';
														  });

														}

														function Push(){
															deleteOverlays();
															lat = document.getElementById("output").value
															lng = document.getElementById("out").value
															if(!(lat == '') || !(lng == '') ){
															
															var point = new google.maps.LatLng(lat,lng);
															var marker = new google.maps.Marker( {position:point,map:map});
															markers.push(marker);
														   }
														}

														function placeMarker(e) {
														 deleteOverlays();
														 
														 var marker = new google.maps.Marker({
															position: e,
															map: map,
														  });
														  
														  var infowindow = new google.maps.InfoWindow({
															content: 'Latitude: ' + e.lat() + '<br>Longitude: ' + e.lng()
														  });
														  var location = e;
														  infowindow.open(map);
														 
														 /*alert(Object.defineProperty(location, "lng", {value : 5}))*/
														  document.getElementById("output").value = e.lat();
														  document.getElementById("out").value = e.lng();
														  
														  markers.push(marker);
														}


														// Removes the overlays from the map, but keeps them in the array.
														function clearOverlays() {
														  for (var i = markers.length; i > 0; i--){
																markers[markers.length-i].setMap(null);
														  }
														}


														// Deletes all markers in the array by removing references to them.
														function deleteOverlays() {
														  clearOverlays();
														  markers = [];
														}


														google.maps.event.addDomListener(window, 'load', initialize);
													</script>
														<div id="googleMap" style="width:500px;height:380px;"/>
														<p>
															<input type="text" id="output" name="latitude"/>
															<p>
																<input type="text" id="out" name="longitude"/>
																<p>
																	<input type="button" onclick="Push()" value="Разместить"/>
																</p>
															</p>
															<p>Страна<select class="custom-select" id="inputGroupSelect01" name="county">
															<?php    
																for($i=0;$i<5;$i++){
																	echo("<option value=\"".$countrys[$i]."\">".$countrys[$i]."</option>");
																}
															?>
																</select>
															</div>
														</p>
														<p>
															<input type="submit" value="Сохранить"/>
														</p>
														<p>
															<button type="button" class="btn btn-light" onclick="Back()">Назад</button>
														</p>
														<script src="Upload.js"/>
													</form>
												</body>
											</html>